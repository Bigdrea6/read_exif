import piexif
from PIL import Image


dict={'ProcessingSoftware':piexif.ImageIFD.ProcessingSoftware, 'NewSubfileType':piexif.ImageIFD.NewSubfileType, 'SubfileType':piexif.ImageIFD.SubfileType, 'ImageWidth':piexif.ImageIFD.ImageWidth, 'ImageLength':piexif.ImageIFD.ImageLength, 'BitsPerSample':piexif.ImageIFD.BitsPerSample, 'Compression':piexif.ImageIFD.Compression, 'PhotometricInterpretation':piexif.ImageIFD.PhotometricInterpretation, 'CellWidth':piexif.ImageIFD.CellWidth, 'CellLength':piexif.ImageIFD.CellLength, 'FillOrder':piexif.ImageIFD.FillOrder, 'DocumentName':piexif.ImageIFD.DocumentName, 'ImageDescription':piexif.ImageIFD.ImageDescription, 'Make':piexif.ImageIFD.Make, 'Model':piexif.ImageIFD.Model, 'StripOffsets':piexif.ImageIFD.StripOffsets, 'Orientation':piexif.ImageIFD.Orientation, 'SamplesPerPixel':piexif.ImageIFD.SamplesPerPixel, 'RowsPerStrip':piexif.ImageIFD.RowsPerStrip, 'StripByteCounts':piexif.ImageIFD.StripByteCounts, 'XResolution':piexif.ImageIFD.XResolution, 'YResolution':piexif.ImageIFD.YResolution, 'PlanarConfiguration':piexif.ImageIFD.PlanarConfiguration,'GrayResponseUnit':piexif.ImageIFD.GrayResponseUnit, 'GrayResponseCurve':piexif.ImageIFD.GrayResponseCurve, 'T4Options':piexif.ImageIFD.T4Options, 'T6Options':piexif.ImageIFD.T6Options, 'ResolutionUnit':piexif.ImageIFD.ResolutionUnit, 'TransferFunction':piexif.ImageIFD.TransferFunction, 'Software':piexif.ImageIFD.Software, 'DateTime':piexif.ImageIFD.DateTime, 'Artist':piexif.ImageIFD.Artist, 'HostComputer':piexif.ImageIFD.HostComputer, 'Predictor':piexif.ImageIFD.Predictor, 'WhitePoint':piexif.ImageIFD.WhitePoint, 'PrimaryChromaticities':piexif.ImageIFD.PrimaryChromaticities, 'ColorMap':piexif.ImageIFD.ColorMap, 'HalftoneHints':piexif.ImageIFD.HalftoneHints, 'TileWidth':piexif.ImageIFD.TileWidth, 'TileLength':piexif.ImageIFD.TileLength, 'TileOffsets':piexif.ImageIFD.TileOffsets, 'TileByteCounts':piexif.ImageIFD.TileByteCounts, 'SubIFDs':piexif.ImageIFD.SubIFDs, 'InkSet':piexif.ImageIFD.InkSet, 'InkNames':piexif.ImageIFD.InkNames, 'NumberOfInks':piexif.ImageIFD.NumberOfInks, 'DotRange':piexif.ImageIFD.DotRange, 'TargetPrinter':piexif.ImageIFD.TargetPrinter, 'ExtraSamples':piexif.ImageIFD.ExtraSamples, 'SampleFormat':piexif.ImageIFD.SampleFormat, 'SMinSampleValue':piexif.ImageIFD.SMinSampleValue, 'SMaxSampleValue':piexif.ImageIFD.SMaxSampleValue, 'TransferRange':piexif.ImageIFD.TransferRange, 'ClipPath':piexif.ImageIFD.ClipPath, 'XClipPathUnits':piexif.ImageIFD.XClipPathUnits, 'YClipPathUnits':piexif.ImageIFD.YClipPathUnits, 'Indexed':piexif.ImageIFD.Indexed, 'JPEGTables':piexif.ImageIFD.JPEGTables, 'OPIProxy':piexif.ImageIFD.OPIProxy, 'JPEGProc':piexif.ImageIFD.JPEGProc,'YCbCrCoefficients':piexif.ImageIFD.YCbCrCoefficients, 'YCbCrSubSampling':piexif.ImageIFD.YCbCrSubSampling, 'YCbCrPositioning':piexif.ImageIFD.YCbCrPositioning, 'ReferenceBlackWhite':piexif.ImageIFD.ReferenceBlackWhite, 'XMLPacket':piexif.ImageIFD.XMLPacket,   'Rating':piexif.ImageIFD.Rating, 'RatingPercent':piexif.ImageIFD.RatingPercent, 'ImageID':piexif.ImageIFD.ImageID, 'CFARepeatPatternDim':piexif.ImageIFD.CFARepeatPatternDim, 'CFAPattern':piexif.ImageIFD.CFAPattern, 'BatteryLevel':piexif.ImageIFD.BatteryLevel, 'Copyright':piexif.ImageIFD.Copyright, 'ExposureTime':piexif.ImageIFD.ExposureTime, 'ImageResources':piexif.ImageIFD.ImageResources, 'InterColorProfile':piexif.ImageIFD.InterColorProfile, 'Interlace':piexif.ImageIFD.Interlace, 'TimeZoneOffset':piexif.ImageIFD.TimeZoneOffset, 'SelfTimerMode':piexif.ImageIFD.SelfTimerMode, 'SpatialFrequencyResponse':piexif.ImageIFD.SpatialFrequencyResponse, 'Noise':piexif.ImageIFD.Noise, 'ImageNumber':piexif.ImageIFD.ImageNumber, 'SecurityClassification':piexif.ImageIFD.SecurityClassification, 'ImageHistory':piexif.ImageIFD.ImageHistory, 'ExposureIndex':piexif.ImageIFD.ExposureIndex,   'XPTitle':piexif.ImageIFD.XPTitle, 'XPComment':piexif.ImageIFD.XPComment, 'XPAuthor':piexif.ImageIFD.XPAuthor, 'XPKeywords':piexif.ImageIFD.XPKeywords, 'XPSubject':piexif.ImageIFD.XPSubject, 'FlashEnergy':piexif.ImageIFD.FlashEnergy, 'SpatialFrequencyResponse':piexif.ImageIFD.SpatialFrequencyResponse, 'FocalPlaneXResolution':piexif.ImageIFD.FocalPlaneXResolution, 'FocalPlaneYResolution':piexif.ImageIFD.FocalPlaneYResolution, 'FocalPlaneResolutionUnit':piexif.ImageIFD.FocalPlaneResolutionUnit,'ExposureIndex':piexif.ImageIFD.ExposureIndex, 'SensingMethod':piexif.ImageIFD.SensingMethod, 'CFAPattern':piexif.ImageIFD.CFAPattern, 'PrintImageMatching':piexif.ImageIFD.PrintImageMatching, 'DNGVersion':piexif.ImageIFD.DNGVersion, 'DNGBackwardVersion':piexif.ImageIFD.DNGBackwardVersion, 'UniqueCameraModel':piexif.ImageIFD.UniqueCameraModel, 'LocalizedCameraModel':piexif.ImageIFD.LocalizedCameraModel, 'CFAPlaneColor':piexif.ImageIFD.CFAPlaneColor, 'CFALayout':piexif.ImageIFD.CFALayout, 'LinearizationTable':piexif.ImageIFD.LinearizationTable, 'BlackLevelRepeatDim':piexif.ImageIFD.BlackLevelRepeatDim, 'BlackLevel':piexif.ImageIFD.BlackLevel, 'BlackLevelDeltaH':piexif.ImageIFD.BlackLevelDeltaH, 'BlackLevelDeltaV':piexif.ImageIFD.BlackLevelDeltaV, 'WhiteLevel':piexif.ImageIFD.WhiteLevel, 'DefaultScale':piexif.ImageIFD.DefaultScale, 'DefaultCropOrigin':piexif.ImageIFD.DefaultCropOrigin, 'DefaultCropSize':piexif.ImageIFD.DefaultCropSize, 'ColorMatrix1':piexif.ImageIFD.ColorMatrix1, 'ColorMatrix2':piexif.ImageIFD.ColorMatrix2, 'CameraCalibration1':piexif.ImageIFD.CameraCalibration1, 'CameraCalibration2':piexif.ImageIFD.CameraCalibration2, 'ReductionMatrix1':piexif.ImageIFD.ReductionMatrix1, 'ReductionMatrix2':piexif.ImageIFD.ReductionMatrix2, 'AnalogBalance':piexif.ImageIFD.AnalogBalance, 'AsShotNeutral':piexif.ImageIFD.AsShotNeutral, 'AsShotWhiteXY':piexif.ImageIFD.AsShotWhiteXY, 'BaselineExposure':piexif.ImageIFD.BaselineExposure, 'BaselineNoise':piexif.ImageIFD.BaselineNoise, 'BaselineSharpness':piexif.ImageIFD.BaselineSharpness, 'BayerGreenSplit':piexif.ImageIFD.BayerGreenSplit, 'LinearResponseLimit':piexif.ImageIFD.LinearResponseLimit, 'CameraSerialNumber':piexif.ImageIFD.CameraSerialNumber, 'LensInfo':piexif.ImageIFD.LensInfo, 'ChromaBlurRadius':piexif.ImageIFD.ChromaBlurRadius, 'AntiAliasStrength':piexif.ImageIFD.AntiAliasStrength, 'ShadowScale':piexif.ImageIFD.ShadowScale, 'DNGPrivateData':piexif.ImageIFD.DNGPrivateData, 'MakerNoteSafety':piexif.ImageIFD.MakerNoteSafety, 'CalibrationIlluminant1':piexif.ImageIFD.CalibrationIlluminant1, 'CalibrationIlluminant2':piexif.ImageIFD.CalibrationIlluminant2, 'BestQualityScale':piexif.ImageIFD.BestQualityScale, 'RawDataUniqueID':piexif.ImageIFD.RawDataUniqueID, 'OriginalRawFileName':piexif.ImageIFD.OriginalRawFileName, 'OriginalRawFileData':piexif.ImageIFD.OriginalRawFileData, 'ActiveArea':piexif.ImageIFD.ActiveArea, 'MaskedAreas':piexif.ImageIFD.MaskedAreas, 'AsShotICCProfile':piexif.ImageIFD.AsShotICCProfile, 'AsShotPreProfileMatrix':piexif.ImageIFD.AsShotPreProfileMatrix, 'CurrentICCProfile':piexif.ImageIFD.CurrentICCProfile, 'CurrentPreProfileMatrix':piexif.ImageIFD.CurrentPreProfileMatrix, 'ColorimetricReference':piexif.ImageIFD.ColorimetricReference, 'CameraCalibrationSignature':piexif.ImageIFD.CameraCalibrationSignature, 'ProfileCalibrationSignature':piexif.ImageIFD.ProfileCalibrationSignature, 'AsShotProfileName':piexif.ImageIFD.AsShotProfileName, 'NoiseReductionApplied':piexif.ImageIFD.NoiseReductionApplied, 'ProfileName':piexif.ImageIFD.ProfileName, 'ProfileHueSatMapDims':piexif.ImageIFD.ProfileHueSatMapDims, 'ProfileHueSatMapData1':piexif.ImageIFD.ProfileHueSatMapData1, 'ProfileHueSatMapData2':piexif.ImageIFD.ProfileHueSatMapData2, 'ProfileToneCurve':piexif.ImageIFD.ProfileToneCurve, 'ProfileEmbedPolicy':piexif.ImageIFD.ProfileEmbedPolicy, 'ProfileCopyright':piexif.ImageIFD.ProfileCopyright, 'ForwardMatrix1':piexif.ImageIFD.ForwardMatrix1, 'ForwardMatrix2':piexif.ImageIFD.ForwardMatrix2, 'PreviewApplicationName':piexif.ImageIFD.PreviewApplicationName, 'PreviewApplicationVersion':piexif.ImageIFD.PreviewApplicationVersion, 'PreviewSettingsName':piexif.ImageIFD.PreviewSettingsName, 'PreviewSettingsDigest':piexif.ImageIFD.PreviewSettingsDigest, 'PreviewColorSpace':piexif.ImageIFD.PreviewColorSpace, 'PreviewDateTime':piexif.ImageIFD.PreviewDateTime, 'RawImageDigest':piexif.ImageIFD.RawImageDigest, 'OriginalRawFileDigest':piexif.ImageIFD.OriginalRawFileDigest, 'SubTileBlockSize':piexif.ImageIFD.SubTileBlockSize, 'RowInterleaveFactor':piexif.ImageIFD.RowInterleaveFactor, 'ProfileLookTableDims':piexif.ImageIFD.ProfileLookTableDims, 'ProfileLookTableData':piexif.ImageIFD.ProfileLookTableData, 'OpcodeList1':piexif.ImageIFD.OpcodeList1, 'OpcodeList2':piexif.ImageIFD.OpcodeList2, 'OpcodeList3':piexif.ImageIFD.OpcodeList3, 'NoiseProfile':piexif.ImageIFD.NoiseProfile}




def edit(img,tag):
    im = Image.open(img)
    exif = piexif.load(im.info['exif'])

    metadata = exif['0th'][dict[tag]]
    print(metadata)
    print("input words(keep format)")
    word=str(input())
    print(metadata,'>>',word)

    exif['0th'][dict[tag]] = word
    exif_bytes = piexif.dump(exif)
    im.save(img, "jpeg", exif=exif_bytes)


def edit_gps(img):
    im = Image.open(img)
    exif = piexif.load(im.info['exif'])

    metadata = exif['GPS'][piexif.GPSIFD.GPSLatitude]
    print(metadata)
    print("input num(keep format)")
    word=str(input())
    print(metadata,'>>',word)

    exif['GPS'][piexif.GPSIFD.GPSLatitude] = word
    exif_bytes = piexif.dump(exif)
    im.save(img, "jpeg", exif=exif_bytes)
